# This file was autogenerated by 10up Toolkit.

image: docker.10up.com/10up-build/deploy-container:latest

include:
  - project: 10up-build/ci-library
    ref: trunk
    file: /main.yml

test_syntax:
  stage: test
  script:
    - php-syntax
  dependencies: []
  cache: {}

test_virusscan:
  stage: test
  script:
    - virus-scan
  dependencies: []
  cache: {}

build_plugins_and_themes:
  stage: build
  script:
    - nvm install 18
    - npx 10up-toolkit@next project create-payload $CI_COMMIT_REF_NAME
  artifacts:
    paths:
      - payload
    expire_in: 1 day
  cache: {}
